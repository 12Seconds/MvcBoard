@* @model MvcBoardAdmin.Models.AdmMember.AdmMemberManageViewModel *@
@{

    ViewData["Title"] = "관리자 계정 관리";
    ViewData["NavIndex"] = 5;

    List<SelectListItem> SearchOptions = new List<SelectListItem>();
    SearchOptions.Add(new SelectListItem { Text = "검색 필터", Value = "" });
    SearchOptions.Add(new SelectListItem { Text = "관리자 번호", Value = "UserNo" });
    SearchOptions.Add(new SelectListItem { Text = "아이디", Value = "Id" });
    SearchOptions.Add(new SelectListItem { Text = "닉네임", Value = "Name" });
    SearchOptions.Add(new SelectListItem { Text = "권한 그룹", Value = "AuthorityGroup" });
}

<link rel="stylesheet" href="@(Url.Content("~/css/adm_member.css"))" />

<div class="manage_member_index">

    @* 왼쪽 메인 영역 *@
    <div class="index_main">
        <a asp-area="" asp-action="Index" asp-controller="AdmMember" class="title_anchor">
            <h4>관리자 계정 관리</h4>
        </a>
        <hr />

        <div class="search_box">
            @using (Html.AjaxBeginForm("AdminMemberListPartial", "AdminMember", new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "member_list_container"@* , OnComplete = ""  *@}, new { id = "MemberListForm" }))
            {
                @Html.DropDownList("SearchFilter", SearchOptions, new { @id = "SearchFilterList", @class = "search_filter_drop"/* "form-control" */ })
                @Html.TextBox("SearchWord", null, new { @class = "search_word_input", @placeholder = "", @autoComplete = "off" })
                <button type="submit" class="btn btn-outline-secondary btn-sm search_button">검색</button>
            }
        </div>

        @* 관리자 계정 리스트 *@
        <div id="member_list_container" class=""></div>


    </div>

    @* 오른쪽 영역 *@
    <div class="index_right">

        @* 관리자 계정 에디터 Partial View  *@
        <div id="member_editor_container"></div>
        @using (Html.AjaxBeginForm("AdminMemberEditorPartial", "AdminMember", new AjaxOptions { HttpMethod = "Get", UpdateTargetId = "member_editor_container" }, new { id = "MemberEditorForm" }))
        {
            @Html.Hidden("UserNo", "", new { id = "editor_userId_val" });
        }

    </div>

</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        // 최초 진입 시
        $('#MemberListForm').submit();
    });

    /* 유저 리스트 업데이트 함수 */
    function updateMemeberList(page) {
        if (page > 0) {
            $('#page_index_val').val(page);
        }
        $('#MemberListForm_update').submit();
    }

    /* 유저 에디터 로드 함수 */
    function updateMemberEditor(userId) {
        $('#editor_userId_val').val(userId);
        $('#MemberEditorForm').submit();
    }

    /* 오류 문구 노출 */
    function showAlert(message, exit) {

        alert(message);

        if (exit) {
            memberEditorExit();
        }
    }

</script>
